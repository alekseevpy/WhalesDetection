# Веб-сервис идентификации китов

## Описание проекта

Веб-сервис для автоматической идентификации китов по фотографиям. Пользователь загружает изображение, а сервис находит 5 наиболее вероятных совпадений из базы данных. Решение помогает исследователям отслеживать популяции китов, изучать их миграцию и поведение.

## Основные возможности

- Точное распознавание: сравнение с базой данных и поиск похожих особей
- Быстрый поиск: оптимизированная работа с большими датасетами
- Удобный веб-интерфейс для загрузки изображений и просмотра результатов

## Технологический стек

- Python 3.11
- FastAPI
- Uvicorn
- PyTorch
- timm
- FAISS
- MegaDescriptor
- Docker
- Git LFS
- numpy, pandas, Pillow и др. (см. [requirements.txt](./requirements.txt))

## Быстрый старт

### 1. Запуск через Docker

Быстрый запуск — использовать готовый образ с DockerHub:

```sh
docker pull alekseevpy/whalesdetection-api:latest
docker run -p 8000:8000 --name whalesdetection-api alekseevpy/whalesdetection-api:latest
```

После запуска сервис будет доступен по адресу:  
[http://localhost:8000](http://localhost:8000)

### 2. Запуск локально (без Docker)

> Требуется Python 3.11 и все зависимости из requirements.txt

```sh
python -m pip install --upgrade pip
pip install -r requirements.txt
uvicorn backend.main:app --host 0.0.0.0 --port 8000 --reload
```

### 3. Использование

- Перейдите на [http://localhost:8000](http://localhost:8000)
- Загрузите фотографию кита
- Получите топ-5 наиболее вероятных совпадений из базы

### 4. Документация API

После запуска сервиса автоматически доступна интерактивная документация Swagger по адресу:  
[http://localhost:8000/docs](http://localhost:8000/docs)

Здесь вы можете посмотреть описание всех доступных эндпоинтов, протестировать запросы и узнать структуру входных/выходных данных.

### 5. Доступность в РУНЕТЕ

На период экзамена проект доступен для всех желающих по следующему адресу:
[http://51.250.42.220:8000](http://51.250.42.220:8000)

## Структура репозитория

- `backend/` — исходный код веб-сервиса (FastAPI)
- `data/models/` — веса модели (скачиваются автоматически при сборке Docker-образа)
- `data/indexes/` — индексы FAISS для быстрого поиска
- `frontend/` — код пользовательского интерфейса
- `tests/` — модульные и интеграционные тесты
- `requirements.txt` — список зависимостей

## Авторы

- Кирилл Демашов
- Алексеев Лев
- Якутин Сергей
- Лыков Дмитрий
- Солодникова София

---